{"version":3,"sources":["commons/authentication/auth-token.service.js","commons/api/api.service.js","commons/authentication/authentication.api.js","commons/authentication/authentication.service.js","commons/user/user.api.js","commons/data-store/localstorage.service.js","commons/data-store/data-store.model.js","commons/user/user.service.js","commons/spinner/spinner.component.js","commons/authentication/authentication.component.js","commons/schedule/schedule.service.js","commons/schedule/schedule.api.js","modules/decks/route-paths.js","modules/decks/Decks.jsx","commons/players/players.service.js","commons/players/players.api.js","modules/decks/DecksSelection.jsx","modules/decks/route.js","commons/forms/field-error.component.js","commons/forms/validators.js","modules/login/login.page.js","modules/signup/signup.page.js","routes.js","modules/dashboard/dashboard.page.js","modules/decks/main-template.jsx","commons/sidebar/sidebar.component.js","App.js","index.js"],"names":["AuthTokenService","getAuthToken","Cookies","get","ApiService","call","config","axios","url","method","then","result","callAuth","token","this","headers","Promise","reject","reason","AuthTokenServiceModule","AuthApi","login","data","signUp","ApiServiceModule","AUTH_TOKEN","ClientStore","clientCache","AuthService","store","getDomain","window","location","hostname","split","slice","join","logout","domain","remove","reset","set","expires","catch","response","isAuthenticated","AuthApiModule","UserApi","getSelfUser","isLocalStorageEnabled","mod","localStorage","setItem","removeItem","e","key","getObject","val","undefined","JSON","parse","error","maybeJSONParse","getItem","setLocalStorage","id","value","object","stringify","setObject","getLocalStorage","DataStore","_","isEmpty","newStore","isSaved","UserService","user","resolve","console","log","UserApiModule","Spinner","className","withAuth","Component","props","state","isLoading","setState","history","replace","pathname","APP_STATES","LOGIN","path","search","React","ScheduleService","getSchedule","date","storedDate","storedDateSchedule","schedule","PATH_PREFIX","DECK_STATES","HOME","SELECTION","Decks","currentDate","format","Date","now","games","gameId","push","reverse","map","awayTeam","homeTeam","onClick","selectGame","fullName","src","logo","PlayersService","teamId","storedPlayers","players","getPlayers","DecksSelection","params","match","currentGame","find","parseInt","promises","all","homePlayers","awayPlayers","name","pictureUrl","DECK_ROUTES","exact","component","withRouter","FieldErrorMessage","when","message","subscription","submitFailed","active","render","meta","indexOf","EMAIL_PATTERN","composeValidators","validators","reduce","validator","required","pattern","regexp","RegExp","test","passwordMinLength","length","ERROR_MESSAGES","NOT_EXISTING_USER","INVALID_PASSWORD","LoginPage","redirectUrl","qs","onLogin","bind","DASHBOARD","href","origin","onSubmit","handleSubmit","autoComplete","validate","input","type","placeholder","to","USER_EXISTING","TECHNICAL_ERROR","SignUpPage","signup","form","isAccountCreated","Fragment","username","SIGNUP","DECKS","values","route","i","SidebarComponent","isMenuToggled","toggleMenu","classNames","pseudo","activeClassName","TEAM","Sidebar","App","Object","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.da61b93a.chunk.js","sourcesContent":["import Cookies from 'js-cookie';\nconst AUTH_TOKEN = 'authToken';\n\nfunction AuthTokenMethod() {\n  return {\n    getAuthToken() {\n      return Cookies.get(AUTH_TOKEN)\n    }\n  }\n}\n\nexport const AuthTokenService = new AuthTokenMethod();\n","import axios from 'axios';\nimport { AuthTokenService as AuthTokenServiceModule} from '../authentication/auth-token.service';\n\nconst BASE_URL = '/api/v1';\n\nfunction ApiServiceMethod(AuthTokenService) {\n  return {\n    call(config){\n      return axios({ ...config, url: `${BASE_URL}${config.url}`, method: config.method || 'GET' })\n        .then((result = {}) => result);\n    },\n    callAuth(config) {\n      const token = AuthTokenService.getAuthToken();\n      if (!token) {\n        return Promise.reject({ reason: 'NOT_AUTHENTICATED'});\n      }\n      return this.call({\n        ...config,\n        headers: { ...config.headers, token }\n      });\n    }\n  }\n};\n\nexport const ApiService = new ApiServiceMethod(AuthTokenServiceModule);\n","import { ApiService as ApiServiceModule } from '../api/api.service';\n\nfunction AuthApiMethod(ApiService) {\n  return {\n    login(data) {\n      return ApiService.call({\n        method: 'POST',\n        url: '/user/login',\n        data,\n      });\n    },\n    signUp(data) {\n      return ApiService.call({\n        method: 'POST',\n        url: '/user/signup',\n        data,\n      });\n    } \n  }\n}\n\nexport const AuthApi = new AuthApiMethod(ApiServiceModule);\n","import Cookies from 'js-cookie';\nimport { AuthApi as AuthApiModule } from './authentication.api';\n\nconst AUTH_TOKEN = 'authToken';\n\nclass ClientStore {\n  constructor() {\n    this.clientCache = {};\n  }\n\n  get() {\n    return this.clientCache;\n  }\n\n  set(data = {}) {\n    this.clientCache = { ...this.clientCache, ...data };\n  }\n\n  reset() {\n    this.clientCache = {};\n  }\n}\n\n\nfunction AuthServiceMethod(AuthApi) {\n  const store = new ClientStore();\n\n  return {\n    getDomain(){\n      window.location.hostname.split('.').slice(-2).join('.');\n    },\n    logout() {\n      const domain = this.getDomain();\n      Cookies.remove(AUTH_TOKEN, { domain });\n      store.reset();\n    },\n    login(data) {\n      return AuthApi.login(data)\n        .then(({ data: { token } } = {}) => {\n          Cookies.set(AUTH_TOKEN, token, {\n            expires: 30,\n            domain: this.getDomain(),\n          });\n        }).catch(({ response: { data } } = {}) => Promise.reject(data))\n    },\n    signUp(data) {\n      return AuthApi.signUp(data)\n        .catch(({ response: { data } } = {}) => Promise.reject(data))\n    },\n    isAuthenticated() {\n      return !!Cookies.get(AUTH_TOKEN)\n    }\n  }\n}\n\nexport const AuthService = new AuthServiceMethod(AuthApiModule);\n","import { ApiService as ApiServiceModule} from '../api/api.service';\n\nfunction UserApiMethod(ApiService) {\n  return {\n    getSelfUser() {\n      return ApiService.callAuth({\n        method: 'GET',\n        url: '/user/me',\n      });\n    }\n  }\n};\n\nexport const UserApi = new UserApiMethod(ApiServiceModule);\n","function isLocalStorageEnabled() {\n  let mod;\n  try {\n    window.localStorage.setItem(mod, mod);\n    window.localStorage.removeItem(mod);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction maybeJSONParse(val) {\n  if (val === undefined) {\n    return undefined;\n  }\n  try {\n    return JSON.parse(val);\n  } catch (error) {\n    return null;\n  }\n}\n\nfunction removeItem(key) {\n  if (isLocalStorageEnabled()) {\n    return window.localStorage.removeItem(key);\n  }\n}\n\nfunction getObject(key) {\n  if (isLocalStorageEnabled()) {\n    return maybeJSONParse(localStorage.getItem(key));\n  }\n}\n\nfunction setObject(key, object) {\n  if (object === undefined) {\n    return removeItem(key);\n  }\n  if (isLocalStorageEnabled()) {\n    window.localStorage.setItem(key, JSON.stringify(object));\n  }\n}\n\nfunction getItem(key) {\n  if (isLocalStorageEnabled()) {\n    return window.localStorage.getItem(key);\n  }\n}\n\nfunction setItem(key, item) {\n  if (isLocalStorageEnabled()) {\n    window.localStorage.setItem(key, item);\n  }\n}\n\nfunction cleanSaveItem(key, item) {\n  item ? setItem(key, item) : removeItem(key);\n}\n\nexport {\n  getObject, setObject, getItem, setItem, removeItem, cleanSaveItem,\n};\n","import _ from 'lodash';\nimport { getObject, setObject } from './localstorage.service';\n\nconst setLocalStorage = (id, value) => setObject(id, value);\nconst getLocalStorage = (id) => getObject(id);\n\n/* istanbul ignore file */\nexport class DataStore {\n  constructor(id) {\n    this.id = id;\n    this.store = getLocalStorage(this.id) || {}; // do not use directly, no private property in JS\n  }\n\n  get() {\n    const store = _.isEmpty(this.store) ? getLocalStorage(this.id) : this.store;\n    this.store = store;\n\n    return { ...this.store };\n  }\n\n  set(newStore, isSaved) {\n    this.store = { ...this.store, ...newStore };\n    isSaved && setLocalStorage(this.id, this.store);\n  }\n\n  reset() {\n    this.store = {};\n    setLocalStorage(this.id, this.store);\n  }\n}\n","import { UserApi as UserApiModule} from './user.api';\nimport { DataStore } from '../data-store/data-store.model';\n\nfunction UserServiceMethod(UserApi) {\n  const store = new DataStore('SELF_USER');\n  return {\n    getSelfUser() {\n      const user = store.get().user;\n      return user ? Promise.resolve(user) : UserApi.getSelfUser()\n        .then((user) => {\n          console.log('user', user);\n          store.set({ user });\n          return user;\n        });\n    }\n  }\n};\n\nexport const UserService = new UserServiceMethod(UserApiModule);\n","import React from 'react';\nimport './spinner.scss';\n\nexport const Spinner = () => (\n  <div className=\"spinner-container\">\n    <div className=\"spinner\" />\n  </div>\n)","import React from 'react';\nimport { Spinner } from 'commons/spinner/spinner.component';\nimport { AuthService } from './authentication.service';\nimport { UserService } from '../user/user.service';\nimport { APP_STATES } from 'app/routes';\nimport '../../app.scss';\n\nexport const withAuth = Component => class Authentication extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  componentDidMount() {\n    if (!AuthService.isAuthenticated()) {\n      this.props.history.replace({\n        pathname: APP_STATES.LOGIN.path,\n        search: `?redirectUrl=${this.props.location.pathname}`,\n      });\n      return null;\n    }\n    this.setState({ isLoading: true });\n    return UserService.getSelfUser()\n      .then((user) => this.setState({ isLoading: false, user }));\n  }\n\n  render() {\n    return this.state.isLoading ? <Spinner /> : <Component {...this.props} user={this.state.user} />\n    // <React.Fragment>\n    //   <div className=\"app__menu-toggle\"></div>\n    //   <Sidebar />\n    //   <div className=\"app\">\n    //     <div className=\"layout-container\">\n    //       <Component {...props} />\n    //     </div>\n    //   </div>\n    // </React.Fragment>\n  }\n}","import _ from 'lodash';\nimport { DataStore } from 'commons/data-store/data-store.model';\nimport { getSchedule } from './schedule.api';\n\nfunction ScheduleServiceMethod() {\n  const store = new DataStore('SCHEDULE');\n\n  return {\n    getSchedule(date) {\n      const storedDate = date.replace(/-/ig, '');\n      const storedDateSchedule = _.get(store.get().schedule, storedDate);\n\n      return storedDateSchedule\n        ? Promise.resolve(storedDateSchedule) \n        : getSchedule(date)\n            .then(schedule => {\n              store.set({\n                schedule: { [storedDate]: schedule },\n              });\n              return schedule;\n            });\n    },\n  }\n};\n\nexport const ScheduleService = new ScheduleServiceMethod();","import { ApiService } from 'commons/api/api.service';\n\nconst getSchedule = (date) => {\n  return ApiService.call({\n    url: `/schedule/${date}`,\n  }).then(({ data }) => data)\n    .catch(e => e);\n};\n\nexport {\n  getSchedule,\n};\n","const PATH_PREFIX = '/decks';\n\nexport const DECK_STATES = {\n  HOME: `${PATH_PREFIX}`,\n  SELECTION: `${PATH_PREFIX}/:date/:gameId`,\n}\n","import React from 'react';\nimport format from 'date-fns/format'\nimport { reverse } from 'named-urls';\n\nimport { Spinner } from 'commons/spinner/spinner.component';\nimport { ScheduleService } from 'commons/schedule/schedule.service';\nimport { DECK_STATES } from './route-paths';\n\nexport class Decks extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log('props', props);\n    this.state = {\n      isLoading: true,\n      currentDate: format(Date.now(), 'yyyy-MM-dd'),\n    };\n  }\n\n  componentDidMount() {\n    return ScheduleService.getSchedule(this.state.currentDate)\n      .then((games) => {\n        console.log('games', games);\n        this.setState({\n          isLoading: false,\n          games,\n        });\n      }).catch((e) => console.log('e', e));\n  }\n\n  selectGame(gameId) {\n    return this.props.history.push(reverse(DECK_STATES.SELECTION, {\n      gameId,\n      date: this.state.currentDate,\n    }));\n  }\n\n  render() {\n    return (\n      this.state.isLoading ?\n        <Spinner /> :\n        <div className=\"decks__games-card\">\n          {this.state.games.map(({\n            awayTeam,\n            homeTeam,\n            id,\n            date,\n          }) =>\n            <div className=\"decks__game-card\" key={id} onClick={() => this.selectGame(id)}>\n              <div className=\"decks__game-arena\">\n                <span>{date}</span>\n              </div>\n              <div className=\"decks__game-card-wrapper\">\n                <div className=\"decks__game-card-col\">\n                  <span className=\"decks__game-card-team\">{homeTeam.fullName}</span>\n                  <div className=\"decks__game-card-logo\">\n                    <img src={homeTeam.logo}></img>\n                  </div>\n                </div>\n                <div className=\"decks__game-card-middle\">\n                  VS\n                </div>\n                <div className=\"decks__game-card-col\">\n                  <div className=\"decks__game-card-logo\">\n                    <img src={awayTeam.logo}></img>\n                  </div>\n                  <span className=\"decks__game-card-team\">{awayTeam.fullName}</span>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n    )\n  }\n}\n","import _ from 'lodash';\nimport { DataStore } from 'commons/data-store/data-store.model';\nimport { getPlayers } from './players.api';\n\nfunction PlayersServiceMethod() {\n  const store = new DataStore('PLAYERS');\n\n  return {\n    get(teamId) {\n      const storedPlayers = _.get(store.get().players, teamId);\n\n      return storedPlayers\n        ? Promise.resolve(storedPlayers) \n        : getPlayers(teamId)\n            .then(players => {\n              store.set({\n                players: { [teamId]: players },\n              });\n              return players;\n            });\n    },\n  }\n};\n\nexport const PlayersService = new PlayersServiceMethod();","import { ApiService } from 'commons/api/api.service';\n\nconst getPlayers = (teamId) => {\n  return ApiService.call({\n    url: `/players/${teamId}`,\n  }).then(({ data }) => data)\n    .catch(e => e);\n};\n\nexport {\n  getPlayers,\n};\n","import React from 'react';\nimport _ from 'lodash';\nimport { PlayersService } from 'commons/players/players.service';\nimport { ScheduleService } from 'commons/schedule/schedule.service';\n\nexport class DecksSelection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n    };\n    this.params = props.match.params;\n  }\n\n  componentDidMount() {\n    return ScheduleService.getSchedule(this.params.date)\n      .then((schedule = []) => {\n        const currentGame = _.find(schedule, { id: parseInt(this.params.gameId, 10) });\n        const promises = _.map([currentGame.homeTeam, currentGame.awayTeam], ({ key }) => PlayersService.get(key));\n        return Promise.all(promises)\n          .then(([homePlayers, awayPlayers]) => this.setState({\n            homePlayers,\n            awayPlayers,\n            currentGame,\n            isLoading: false,\n          }));\n      });\n  }\n\n  render() {\n    return this.state.isLoading ?\n      <div>isLoading ...</div> : (\n        <div className=\"decks__selection\">\n          <div className=\"decks__game-card\">\n            <div className=\"decks__game-arena\">\n              <span>{this.state.currentGame.date}</span>\n            </div>\n            <div className=\"decks__game-card-wrapper\">\n              <div className=\"decks__game-card-col\">\n                <span>{this.state.currentGame.homeTeam.fullName}</span>\n                <div className=\"decks__game-card-logo\">\n                  <img src={this.state.currentGame.homeTeam.logo}></img>\n                </div>\n              </div>\n              <div className=\"decks__game-card-middle\">\n                VS\n              </div>\n              <div className=\"decks__game-card-col\">\n                <div className=\"decks__game-card-logo\">\n                  <img src={this.state.currentGame.awayTeam.logo}></img>\n                </div>\n                <span>{this.state.currentGame.awayTeam.fullName}</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"decks__players\">\n            <div className=\"decks__players-col\">\n              {this.state.homePlayers\n                .map(({ name, pictureUrl }) => (\n                  <div className=\"decks__player-card\">\n                    <div className=\"decks__player-card__name\">\n                      {name}\n                    </div>\n                    <div className=\"decks__player-card__picture\">\n                      <img src={pictureUrl}></img>\n                    </div>\n                  </div>\n                ))\n              }\n            </div>\n            <div className=\"decks__players-col\">\n              {this.state.awayPlayers\n                .map(({ name, pictureUrl }) => (\n                  <div className=\"decks__player-card\">\n                    <div className=\"decks__player-card__name\">\n                      {name}\n                    </div>\n                    <div className=\"decks__player-card__picture\">\n                      <img src={pictureUrl}></img>\n                    </div>\n                  </div>\n                ))\n              }\n            </div>\n          </div>\n        </div>\n      )\n  }\n}","import { withRouter } from 'react-router-dom';\nimport { Decks } from './Decks';\nimport { DecksSelection } from './DecksSelection';\nimport { DECK_STATES } from './route-paths';\n\nexport const DECK_ROUTES = {\n  HOME: {\n    path: DECK_STATES.HOME,\n    exact: true,\n    component: withRouter(Decks)\n  },\n  SELECTION: {\n    path: DECK_STATES.SELECTION,\n    component: withRouter(DecksSelection),\n  }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, FormSpy } from 'react-final-form';\nimport './field-error.scss';\n\nexport const FieldErrorMessage = ({ name = [], when = [], message = '' }) => (\n  <Field\n    name={name}\n    subscription={{ submitFailed: true, error: true, active: true }}\n    render={({ meta: { submitFailed, error, active } }) => (\n      !active && submitFailed && error && (when ? when.indexOf(error) >= 0 : true)\n        ? <span className=\"form-error-message\">{message || error}</span> : null\n    )}\n  />\n);\n","export const EMAIL_PATTERN = /.+@.+\\..+/;\nexport const PHONE_PATTERN = /^$|^0[12345679][0-9]{8}$/;\n\nexport const composeValidators = (...validators) => (\n  (value) => validators.reduce((error, validator) => error || validator(value), undefined)\n);\n\n// validators\nexport const required = (value) => (value ? undefined : 'required');\n\nexport const pattern = (regexp) => (value = '') => (new RegExp(regexp).test(value) ? undefined : 'pattern');\n\nexport const passwordMinLength = value => value.length < 9 ? 'passwordLength' : undefined;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Field } from 'react-final-form';\nimport qs from 'query-string';\nimport { Spinner } from 'commons/spinner/spinner.component';\nimport { FieldErrorMessage } from 'commons/forms/field-error.component';\nimport {\n  composeValidators,\n  pattern,\n  required,\n  EMAIL_PATTERN\n} from 'commons/forms/validators';\nimport { AuthService } from 'commons/authentication/authentication.service';\nimport { APP_STATES } from 'app/routes';\nimport './login.scss';\n\nconst ERROR_MESSAGES = {\n  NOT_EXISTING_USER: \"L'email renseigné n'existe pas\",\n  INVALID_PASSWORD: \"Le mot de passe renseigné est incorrect\"\n}\n\nexport class LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.redirectUrl = qs.parse(props.location.search).redirectUrl;\n    this.onLogin = this.onLogin.bind(this);\n    this.state = {\n      error: false,\n    };\n  }\n  \n  onLogin(data) {\n    this.setState({ isLoading: true });\n    return AuthService.login(data)\n      .then(() => {\n        if (!this.redirectUrl) {\n          return this.props.history.replace(APP_STATES.DASHBOARD.path);\n        }\n        window.location.href = `${window.location.origin}${this.redirectUrl}`;\n      }).catch(({ error }) => this.setState({ error, isLoading: false }));\n  }\n\n  render() {\n    return this.state.isLoading ? <Spinner /> : (\n      <div className=\"authent-page\">\n        <div className=\"authent-page__form-container\">\n          <Form \n            onSubmit={this.onLogin}\n            render={({\n              handleSubmit,\n            }) => (\n              <form onSubmit={handleSubmit} autoComplete=\"off\">\n                <Field name=\"email\" validate={composeValidators(required, pattern(EMAIL_PATTERN))}>\n                  {({ input }) => (\n                    <input\n                      {...input}\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      name=\"email\"\n                    />\n                  )}\n                </Field>\n                <Field name=\"password\" validate={composeValidators(required)}>\n                  {({ input }) => (\n                    <input\n                      {...input}\n                      type=\"password\"\n                      placeholder=\"Mot de passe\"\n                      name=\"password\"\n                    />\n                  )}\n                </Field>\n                <div className=\"form-error-message\">\n                  <FieldErrorMessage\n                    name=\"email\"\n                    when={['required']}\n                    message=\"L'email est requis\"\n                  />\n                  <FieldErrorMessage\n                    name=\"email\"\n                    when={['pattern']}\n                    message=\"Le format de l'email renseigné est incorrect\"\n                  />\n                  <FieldErrorMessage\n                    name=\"password\"\n                    when={['required']}\n                    message=\"Le mot de passe est requis\"\n                  />\n                  {this.state.error && (\n                    <span>{ERROR_MESSAGES[this.state.error]}</span>\n                  )}\n                </div>\n                <button className=\"button\" type=\"submit\">\n                  Se connecter\n                </button>\n                <div className=\"authent-page__signup\">\n                  Vous n'avez pas encore de compte ? <Link to=\"/signup\" className=\"page__inlined-link\">Rejoignez notre communauté dès maintenant !</Link>\n                </div>\n              </form>\n            )}\n          />\n        </div>\n      </div>\n    )\n  }\n}","import React, { Component } from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { Spinner } from 'commons/spinner/spinner.component';\nimport {\n  composeValidators,\n  pattern,\n  required,\n  passwordMinLength,\n  EMAIL_PATTERN\n} from 'commons/forms/validators';\nimport { FieldErrorMessage } from 'commons/forms/field-error.component';\nimport { AuthService } from 'commons/authentication/authentication.service';\nimport { APP_STATES } from 'app/routes';\nimport '../login/login.scss';\n\nconst ERROR_MESSAGES = {\n  USER_EXISTING: \"Un compte est déjà enregistré avec cet email\",\n  TECHNICAL_ERROR: \"Une erreur est survenue, merci de réessayer\"\n}\n\nexport class SignUpPage extends Component {\n  constructor(props) {\n    super(props);\n    this.signup = this.signup.bind(this);\n    this.login = this.login.bind(this);\n    this.state = { isLoading: false };\n  }\n  \n  signup(form) {\n    this.setState({\n      isLoading: true,\n      form,\n    });\n    return AuthService.signUp(form)\n      .then(() => {\n        this.setState({ isAccountCreated: true, isLoading: false });\n      }).catch(({ error = 'TECHNICAL_ERROR' } = {}) => {\n        this.setState({\n          error,\n          isLoading: false,\n        });\n      });\n  }\n\n  login() {\n    this.setState({ isLoading: true });\n    return AuthService.login(this.state.form)\n      .then(() => {\n        this.props.history.replace(APP_STATES.DASHBOARD.path);\n      });\n  }\n\n  render() {\n    return this.state.isLoading ? <Spinner /> : (\n      <div className=\"authent-page\">\n        <div className=\"authent-page__form-container\">\n          <Form \n            onSubmit={this.signup}\n            render={({\n              handleSubmit,\n            }) => !this.state.isAccountCreated ? (\n                <form onSubmit={handleSubmit} autoComplete=\"off\">\n                  <Field name=\"email\" validate={composeValidators(required, pattern(EMAIL_PATTERN))}>\n                    {({ input }) => (\n                      <input\n                        {...input}\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        name=\"email\"\n                      />\n                    )}\n                  </Field>\n                  <Field name=\"username\" validate={composeValidators(required)}>\n                    {({ input }) => (\n                      <input\n                        {...input}\n                        type=\"text\"\n                        placeholder=\"Username\"\n                        name=\"username\"\n                      />\n                    )}\n                  </Field>\n                  <Field name=\"password\" validate={composeValidators(required, passwordMinLength)}>\n                    {({ input }) => (\n                      <input\n                        {...input}\n                        type=\"password\"\n                        placeholder=\"Mot de passe\"\n                        name=\"password\"\n                      />\n                    )}\n                  </Field>\n                  <div className=\"form-error-message\">\n                    <FieldErrorMessage\n                      name=\"email\"\n                      when={['required']}\n                      message=\"L'email est requis\"\n                    />\n                    <FieldErrorMessage\n                      name=\"email\"\n                      when={['pattern']}\n                      message=\"Le format de l'email renseigné est incorrect\"\n                    />\n                    <FieldErrorMessage\n                      name=\"password\"\n                      when={['required']}\n                      message=\"Le mot de passe est requis\"\n                    />\n                    <FieldErrorMessage\n                      name=\"password\"\n                      when={['passwordLength']}\n                      message=\"Le mot de passe doit faire au moins 9 caractères\"\n                    />\n                    {this.state.error && (\n                      <span>{ERROR_MESSAGES[this.state.error]}</span>\n                    )}\n                  </div>\n                  <button type=\"submit\">\n                    Rejoindre la communauté\n                  </button>\n                </form>\n            ) : (\n              <React.Fragment>\n                <div className=\"authent-page__account-created\">\n                  Bienvenue dans la commu {this.state.form.username} !\n                </div>\n                <button onClick={this.login}>\n                  Se connecter\n                </button>\n              </React.Fragment>\n            )}\n          />\n        </div>\n      </div>\n    )\n  }\n}","import { withAuth } from 'commons/authentication/authentication.component';\nimport { Dashboard } from 'modules/dashboard/dashboard.page';\n// import { Team } from 'modules/team/Team';\n// import { Decks } from 'modules/decks/Decks';\n// import { DECK_ROUTES } from 'modules/decks/route';\nimport { MainTemplate } from 'modules/decks/main-template';\nimport { LoginPage } from 'modules/login/login.page';\nimport { SignUpPage } from 'modules/signup/signup.page';\n\nconst EntryRedirect = (props) => {\n  props.history.replace(APP_STATES.DASHBOARD.path);\n  return null;  \n}\n\nconst APP_STATES = {\n  HOME: {\n    path: '/',\n    exact: true,\n    component: withAuth(EntryRedirect),\n  },\n  LOGIN: {\n    path: '/login',\n    component: LoginPage,\n  },\n  SIGNUP: {\n    path: '/signup',\n    component: SignUpPage,\n  },\n  DASHBOARD: {\n    path: '/dashboard',\n    component: withAuth(Dashboard),\n  },\n  DECKS: {\n    path: '/decks',\n    component: MainTemplate\n  },\n  // TEAM: {\n  //   path: '/team',\n  //   component: Team,\n  // }\n}\n\nexport { APP_STATES };","export const Dashboard = (props) => console.log('props', props) || (\n  <div className=\"page\">\n    <div className=\"page__header\">\n      <div className=\"page__header-col\">\n        Dashboard\n      </div>\n    </div>\n    <div className=\"page__content\">\n      Content here\n    </div>\n  </div>\n)","import React from 'react';\nimport _ from 'lodash';\nimport { Route } from 'react-router-dom';\nimport { DECK_ROUTES } from './route';\nimport './decks.scss';\n\nexport const MainTemplate = () => (\n  <React.Fragment>\n    <div className=\"page\">\n      <div className=\"page__header\">\n        <div className=\"page__header-col\">\n          2021-05-12\n        </div>\n      </div>\n      <div className=\"page__content\">\n        {\n        _.values(DECK_ROUTES).map((route, i) => (\n          <Route\n            key={i}\n            path={route.path}\n            exact={route.exact}\n            render={(props) => (\n              <route.component {...props} />\n            )}\n          />\n        ))}\n      </div>\n    </div>\n  </React.Fragment>\n);\n","import React from 'react';\nimport {withRouter, NavLink} from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport { UserService } from 'commons/user/user.service';\nimport {APP_STATES} from 'app/routes';\nimport { DECK_STATES } from 'modules/decks/route-paths';\nimport './sidebar.scss';\n\nclass SidebarComponent extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: true,\n      isMenuToggled: false,\n    }\n    this.toggleMenu = this.toggleMenu.bind(this);\n  }\n\n  componentDidMount() {\n    UserService.getSelfUser()\n      .then((user) => {\n        this.setState({\n          user,\n          isLoading: false,\n        });\n      });\n  }\n\n  toggleMenu() {\n    this.setState({\n      isMenuToggled: !this.state.isMenuToggled,\n    });\n  }\n  \n  render() {\n    return this.state.isLoading\n    ? <div>isLoading ...</div>\n    : (\n      <React.Fragment>\n        <div className=\"sidebar__toggle-menu\" onClick={this.toggleMenu}></div>\n        <div className={classNames('sidebar', { 'sidebar--toggled': this.state.isMenuToggled })}>\n          <div className=\"sidebar__user-card\">\n            <div className=\"sidebar__close-menu\" onClick={this.toggleMenu}></div>\n            <div className=\"sidebar__user-name\">\n              {this.state.user.pseudo}\n            </div>\n            <div className=\"sidebar__user-informations\">\n              <div className=\"sidebar__user-informations-row\">\n                <span className=\"sidebar__user-informations-value\">#7500</span>\n                <span className=\"sidebar__user-informations-trend sidebar__user-informations-trend--up\">+497</span>\n              </div>\n            </div>\n          </div>\n          <nav>\n            <NavLink\n              to={APP_STATES.DASHBOARD.path}\n              className=\"sidebar__item\" \n              activeClassName=\"sidebar__item--selected\"\n              onClick={this.toggleMenu}\n            >\n              <div className=\"sidebar__item-icon sidebar__item-icon--dashboard\"></div>\n              <span className=\"sidebar__item-label\">Tableau de bord</span>\n            </NavLink>\n\n            <NavLink\n              to={DECK_STATES.HOME}\n              className=\"sidebar__item\" \n              activeClassName=\"sidebar__item--selected\"\n              onClick={this.toggleMenu}\n            >\n              <div className=\"sidebar__item-icon sidebar__item-icon--decks\"></div>\n              <span className=\"sidebar__item-label\">Mes decks</span>\n            </NavLink>\n\n            {this.state.user.teamId && (<NavLink\n              to={APP_STATES.TEAM.path}\n              className=\"sidebar__item\" \n              activeClassName=\"sidebar__item--selected\"\n              onClick={this.toggleMenu}\n            >\n              <div className=\"sidebar__item-icon sidebar__item-icon--team\"></div>\n              <span className=\"sidebar__item-label\">Mon équipe</span>\n            </NavLink>)}\n          </nav>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport const Sidebar = withRouter(SidebarComponent);","import React from 'react';\nimport classNames from 'classnames';\nimport { Route } from 'react-router-dom';\nimport { AuthService } from 'commons/authentication/authentication.service';\nimport { Sidebar } from 'commons/sidebar/sidebar.component';\nimport { APP_STATES } from './routes';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      Object.values(APP_STATES).map((route, i) =>\n        <Route\n          key={i}\n          path={route.path} \n          exact={route.exact}\n          render={(props) =>\n            <div className={classNames('app-layout', { 'app-layout--extended':  !AuthService.isAuthenticated() })}>\n              {AuthService.isAuthenticated() && (\n                <Sidebar />\n              )}\n              <route.component {...props}/>\n            </div>\n          }\n        />\n      )\n    )\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport App from './App';\n\nconst initApp = () => {\n  return ReactDOM.render(\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n}\n\ninitApp();\n"],"sourceRoot":""}